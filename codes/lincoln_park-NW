
AnnotationFileDefault=~/Data/GenCode/gencode.v28.annotation.gtf
SampleListOutDefault=~/sample_list.txt #tricky fix this
TranscriptFileDefault=~/Data/GenCode/gencode.v28.transcripts.fa
GenomeFileDefault=~/Data/GenCode/GRCh38.primary_assembly.genome.fa
BamDirectoryDefault=~/StarAlignments
FastqDirDefault=~/Data/GenCode/gEUVADIS_RNASeq
while :
do
    case "$1" in
    					#sorted and fixed options
      -a | --annotation) #annotation file corresponding to the genome
          AnnotationFile="$2"
	  shift 2
	  ;;
      -b | --bamdirectory) #Directory containing the star alignment files (assumes individual sample directories)
      	  BamDirectory="$2"
	  shift 2
	  ;;
      -f | --fastqdirectory) #directory containing the sample files to be processed
	  FastqDir="$2"  
	  shift 2
	  ;;
      -g | --genomefastafiles) #file path to the genome files for indexing. Must be supplied when -ri is supplied
          GenomeFiles="$2"
	  shift 2
	  ;;
      -n | --samplenumber) #number of samples you wish to process. Assumes samples are paired fastq files. Default is 89.
	  SampNum="$2"
	  shift 2
	  ;;
      -q | --quantoutput) #directory where you'd like to send all your quantification files
          QuantOutputDirectory="$2"
	  shift 2
	  ;;
      -s | --samplelist) #list of all samples that will be processed
	  SampleListOut="$2"
	  shift 2
	  ;;
      -t | --transcript)
	  TranscriptFile="$2"
	  shift 2
	  ;;
                                          #list_samples_options
     # -i | --inputdirectory) #directory containing the sample files to be processed
	#  SampDir="$2"  
	 # shift 2
	  #;;
     # -o | --outputdirectory) #directory where you'd like to send your sample list
      #    Output="$2"
	#  shift 2
	  #;;
  #    -s | --samplenumber) #number of samples you wish to process. Assumes samples are paired fastq files. Default is 89.
	#  SampNum="$2"
	 # shift 2
	  #;;
                                          #Star options
      #-a | --annotation) #annotation file corresponding to the genome
      #    AnnotationFile="$2"
	#  shift 2
	 # ;;
     # -g | --genomefastafiles) #file path to the genome files for indexing. Must be supplied when -ri is supplied
      #    GenomeFile="$2"
	#  shift 2
	 # ;;
     # -i | --inputdirectory) #directory containing the fastq files to be processed
	#  FastqDir="$2"  
	 # shift 2
	  #;;
      -id | --indexingdirectory) #when supplied alone, indexing has been run, and points to the index directory. When supplied with -ri, serves as output directory for indexing.
	  IndexDirectory="$2"
	  shift 2
	  ;;
     # -o | --outputdirectory) #directory where you'd like to send all your alignments
      #    AlignmentOut="$2"
	#  shift 2
	 # ;;
      -ri | --runindexing) #Only supplied if indexing has not been run. May be supplied with -id to name output directory. Must be supplied with -g genome files path (Right now only accepts 1 genome file).
	  RunIndex="$2"
	  shift 2
	  ;;
   #   -s | --samplelist) #number of samples you wish to process. Assumes samples are paired fastq files. Default is 10.
	#  SampList="$2"
	 # shift 2
	 # ;;
      -t | --threads) #Only supplied if indexing has not been run. May be supplied with -id to name output directory. Must be supplied with -g genome files path (Right now only accepts 1 genome file).
	  Threads="$2"
	  shift 2
	  ;;
                                                    #Leafcutter options
 #     -i | --inputdirectory) #Directory containing the star alignment files (assumes individual sample directories)
  #    	  InputDirectory="$2"
#	  shift 2
#	  ;;
      -l | --lengthmaximum) #maximum length of introns to be used in clustering
      	  LengthMaximum="$2"
	  shift 2
	  ;;
      -m | --minimumclustering) #Minimum number of reads that define a cluster
      	  MinimumClustering="$2"
	  shift 2
	  ;;
      -p | --prefix) #prefix of output
      	  OutputPrefix="$2"
	  shift 2
	  ;;
      -pc | --principalcomponents) #How many PCs do you wish to generate
	  PC="$2"
	  shift 2
	  ;;
      -r | --ratiominimum) #The minimum ratio of reads that must map to support a cluster
      	  RatioMinimum="$2"
	  shift 2
	  ;;
    #  -s | --samplelist) 
     # 	  SampleList="$2"
	#  shift 2
	 # ;;
      -w | --writeto) #write leafcutter clustering to this directory
      	  OutputDirectory="$2"
	  shift 2
      	  ;;
    
                                                        #salmon options
   #   -a | --annotation) #annotation file corresponding to the genome
    #      AnnotationFile="$2"
	#  shift 2
	 # ;;
   #   -i | --inputdirectory) #directory containing the bam files to be processed
	#  InputDirectory="$2"  
	 # shift 2
	  ;;
      -lt | --librarytype) #directory containing the fastq files to be processed
	  LibraryType="$2"  
	  shift 2
	  ;;
  #    -q | --quantoutput) #directory where you'd like to send all your quantification files
   #       QuantOutputDirectory="$2"
	#  shift 2
	 # ;;
    #  -s | --samplelist) 
     # 	  SampleList="$2"
	#  shift 2
	 # ;;
   #   -t | --transcript)
#	  TranscriptFile="$2"
#	  shift 2
#	  ;;
			#fastqc options
      -f | --fastqdir) #directory containing the fastq files to be processed
	        InputDir="$2"  
	        shift 2
	        ;;
      -o | --output) #directory where you'd like to send all your quantification files
          Outputfile="$2"
	        shift 2
	        ;;
      -s | --samplelist) #a list of all the samples you're going to process
      	  SampleList="$2"
	        shift 2
	        ;;
                                                      #generic options
      -*) #unknown 
	  echo "Error: Unknown option: $1" >&2
	  exit 1
	  ;;
      *)  # No more options
	  shift
	  break
	  ;;
     esac
done





~/codes/list_samples --inputdirectory "${FastqDir:=$FastqDirDefault}" --outputdirectory "${SampleListOut:=SampleListOutDefault}" --samplenumber "${SampNum:=}"

~/codes/filtering/fastqc_loop --fastqdir "${FastqDir:=$FastqDirDefault}" --output "${}" --samplelist "${SampleListOut:=}"

~/codes/star_loop --annotation "${AnnotationFile:=$AnnotationFileDefault}" --genomefastafiles "${GenomeFile:=$GenomeFileDefault}" --inputdirectory "${FastqDir:=$FastqDirDefault}" --indexingdirectory "${BamDirectory:=}" --outputdirectory "${}" --runindexing "${}" --samplelist "${SampleListOut:=}" --threads "${}"

~/codes/leaf_loop --inputdirectory "${BamDirectory:=$BamDirectoryDefault}" --lengthmaximum "${}" --minimumclustering "${}" --prefix "${}" --principalcomponents "${}" --ratiominimum "${}" --samplelist "${SampleListOut:=}" --writeto "${}"

~/codes/salmon_loop --annotation "${AnnotationFile:=$AnnotationFileDefault}" --inputdirectory "${BamDirectory:=$BamDirectory}" --librarytype --outputdirectory "${QuantOutput:=}" --samplelist "${SampleListOut:=}" --transcript "${TranscriptFile:=$TranscriptFileDefault}"



sort & filter

matrix eqtl - eqtl analysis

matrix eqtl - sqtl analysis
